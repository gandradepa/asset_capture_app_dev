{% extends "base.html" %}
{% block title %}Upload Successful{% endblock %}

{% block content %}
  <div class="rounded-xl shadow-md w-full overflow-hidden bg-white p-6">
    <h2 class="text-xl font-bold text-center mb-4">Upload Successful</h2>

    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm mb-4">
      <div><span class="font-semibold">QR:</span> {{ qr_code }}</div>
      <div><span class="font-semibold">Building Code:</span> {{ building_code }}</div>
      <div><span class="font-semibold">Asset Type:</span> {{ asset_type }}</div>
    </div>

    {% if files_saved and files_saved|length > 0 %}
      <p class="text-sm mb-2">Saved files:</p>
      <ul class="list-disc pl-5 mb-6">
        {% for f in files_saved %}
          <li>
            <a class="text-blue-700 underline" href="{{ url_for('uploaded_file', filename=f) }}" target="_blank" rel="noopener">
              {{ f }}
            </a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-sm text-gray-600 mb-6">No files were saved.</p>
    {% endif %}

    <div class="flex gap-2">
      <a href="{{ url_for('capture', qr_code=qr_code, building_code=building_code, asset_type=asset_type) }}"
         class="flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded text-center hover:bg-gray-300">
        Back to Capture (review/delete)
      </a>
      <a href="{{ url_for('start', building_code=building_code, asset_type=asset_type) }}"
         class="flex-1 bg-green-600 text-white py-2 px-4 rounded text-center hover:bg-green-700">
        Start New Upload
      </a>
    </div>
  </div>
{% endblock %}
